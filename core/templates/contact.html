{% extends 'base.html' %}
{% load static %}
{% block content %}

<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

<style>
body { font-family: 'Segoe UI', 'Poppins', sans-serif; margin:0; padding:0; background: linear-gradient(135deg, #e9f5ec, #fdfdfd); }
.contact-container { max-width:850px; margin:70px auto; padding:40px; background:#fff; border-radius:18px; box-shadow:0 10px 28px rgba(0,0,0,0.1); }
.contact-container h2 { font-size:2.3rem; color:#28a745; text-align:center; margin-bottom:15px; font-weight:700; }
.contact-container p, .contact-container ul { text-align:center; color:#555; }
.contact-container ul { list-style:none; padding:0; margin-bottom:35px; }
.contact-container ul li { margin:12px 0; font-size:1.1rem; color:#333; }
.contact-container form { display:grid; gap:18px; }
.contact-container input, .contact-container textarea { width:100%; padding:14px; border:1px solid #ccc; border-radius:10px; font-size:1rem; }
.contact-container input:focus, .contact-container textarea:focus { border-color:#28a745; outline:none; box-shadow:0 0 8px rgba(40,167,69,0.2); }
.contact-container button { padding:14px; background:linear-gradient(135deg,#28a745,#218838); color:white; border:none; border-radius:10px; cursor:pointer; }
.contact-container button:hover { transform:translateY(-2px); box-shadow:0 6px 16px rgba(33,136,56,0.3); }

.back-home { text-align:center; margin:40px 0; }
.back-home .back-link { text-decoration:none; color:#28a745; border:1px solid #28a745; padding:10px 18px; border-radius:8px; }
.back-home .back-link:hover { background:#28a745; color:white; }

.map-container { margin-top:40px; border-radius:12px; overflow:hidden; box-shadow:0 6px 20px rgba(0,0,0,0.1); }

/* Toast */
#toast-container { position:fixed; top:20px; right:20px; z-index:9999; }
.toast { min-width:250px; margin-bottom:10px; padding:14px 20px; border-radius:8px; color:#fff; font-weight:500; box-shadow:0 4px 12px rgba(0,0,0,0.15); opacity:0; transform:translateX(100%); animation:slideIn 0.5s forwards, fadeOut 0.5s forwards 3.5s; }
.toast.success { background-color:#28a745; }
.toast.error { background-color:#dc3545; }
.toast.warning { background-color:#ffc107; color:#333; }
@keyframes slideIn { to { opacity:1; transform:translateX(0); } }
@keyframes fadeOut { to { opacity:0; transform:translateX(100%); } }
</style>

<!-- Toast container -->
<div id="toast-container"></div>

<div class="contact-container" data-aos="fade-up">
    <h2>Contact Us</h2>
    <p>Reach us via:</p>
    <ul>
        <li><strong>üìç Address:</strong> Savelugu Municipal Assembly, Northern Region, Ghana</li>
        <li><strong>üìß Email:</strong> support@savelugu.gov.gh</li>
        <li><strong>üìû Phone:</strong> +233 24 123 4567</li>
    </ul>

    <h3>Send Us a Message</h3>
    <form method="post" action="{% url 'contact' %}">
        {% csrf_token %}
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
        <button type="submit">Send Message</button>
    </form>

    <div class="map-container">
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.52171384572!2d-0.8333!3d9.6242!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sSavelugu%20Municipal%20Assembly!5e0!3m2!1sen!2sgh!4v1688747399381!5m2!1sen!2sgh" 
            width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy">
        </iframe>
    </div>
</div>

<div class="back-home">
    <a href="{% url 'home' %}" class="back-link">‚¨Ö Back to Home</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
AOS.init({ duration: 1000, once: true });

// Convert Django messages to toast notifications
document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById('toast-container');
    {% if messages %}
        {% for message in messages %}
            const div = document.createElement('div');
            div.className = 'toast {% if message.tags %}{{ message.tags }}{% endif %}';
            div.innerText = "{{ message|escapejs }}";
            container.appendChild(div);
            setTimeout(() => { div.remove(); }, 4000);
        {% endfor %}
    {% endif %}
});
</script>

{% endblock %}

